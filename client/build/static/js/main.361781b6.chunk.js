(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{54:function(e,t,a){e.exports=a(83)},82:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(21),c=a.n(r),i=a(10),o=a(5),s=a(6),u=a(17),m=a.n(u),E=a(23),p=a(36),d=a.n(p),f=d.a.create({baseURL:"http://217.172.12.192:1026/v2/entities",headers:{"Content-Type":"application/json"},resolveWithFullResponse:!0}),h=d.a.create({baseURL:"http://217.172.12.192:1026/v2/entities",headers:{"Content-Type":"application/json","Fiware-Service":"a4blue","Fiware-ServicePath":"/a4blueevents"},resolveWithFullResponse:!0}),v=function(){return function(){var e=Object(E.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.get("?options=keyValues&limit=1000&type=TOP321_FACE_RECO_EVENT_RULES");case 3:a=e.sent,t({type:"GET_PROCESSED_321_ENTITIES",payload:a.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"ORION_ERROR"}),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},b=function(){return function(){var e=Object(E.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("?options=keyValues&limit=1000&type=IP_Camera");case 3:a=e.sent,t({type:"GET_CAMERA_ENTITIES",payload:a.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"ORION_ERROR"}),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},T=Object(s.b)((function(e){return{orion:e.orion}}),{getProcessed321Entities:v})((function(e){var t=e.orion.entities,a=e.getProcessed321Entities;return Object(n.useEffect)((function(){a()}),[a]),console.log(t),l.a.createElement("div",{className:"wrapper"},l.a.createElement("h3",null,"Processed entities"),l.a.createElement("div",null,t.map((function(e){return l.a.createElement("ul",{className:"entityList",key:e.id},l.a.createElement("li",null,l.a.createElement("p",null,l.a.createElement("span",null,"Id"),": ",e.id),l.a.createElement("p",null,l.a.createElement("span",null,"Type"),": ",e.type),l.a.createElement("p",null,l.a.createElement("span",null,"Time Instant"),": ",e.TimeInstant),l.a.createElement("p",null,l.a.createElement("span",null,"Cam Latitude"),": ",e.camLatitude),l.a.createElement("p",null,l.a.createElement("span",null,"Cam Longitude"),": ",e.camLongitude),l.a.createElement("p",null,l.a.createElement("span",null,"Class Names"),": ",e.class_names),l.a.createElement("p",null,l.a.createElement("span",null,"Description"),": ",e.description),l.a.createElement("p",null,l.a.createElement("span",null,"Device Id"),": ",e.deviceId),l.a.createElement("p",null,l.a.createElement("span",null,"Object Store Id"),": ",e.objectStoreId),l.a.createElement("p",null,l.a.createElement("span",null,"Scores"),": ",e.scores),l.a.createElement("p",null,l.a.createElement("span",null,"Count"),": ",e.count),l.a.createElement("p",null,l.a.createElement("span",null,"Rule Name"),": ",e.ruleName)))}))))})),g=Object(s.b)((function(e){return{orion:e.orion}}),{getProcessed321Entities:v})((function(e){var t=e.orion.entities,a=e.getProcessed321Entities;return Object(n.useEffect)((function(){a()}),[a]),console.log(t),l.a.createElement("div",{className:"wrapper"},l.a.createElement("table",{id:"overview"},l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Description"),l.a.createElement("th",null,"Input"),l.a.createElement("th",null,"Input Topic"),l.a.createElement("th",null,"Output"),l.a.createElement("th",null,"Output Topic")),l.a.createElement("tr",null,l.a.createElement("td",null,"Requalification of a face recognition"),l.a.createElement("td",null,"Rule that checks if a desired suspect has been detected by any of the cameras more than once within a time period of 1 minute, with a recognition possibility range  from 50%-80%"),l.a.createElement("td",null,"Face recognition with score between 50% and 80%"),l.a.createElement("td",null,"TOP321_FACE_RECO_EVENT"),l.a.createElement("td",null,"Face recognition message with score 80%"),l.a.createElement("td",null,"TOP321_FACE_RECO_EVENT")),l.a.createElement("tr",null,l.a.createElement("td",null,"Same person, same zone, in a day"),l.a.createElement("td",null,"Rule that checks if a person (in the blacklist) has been seen more than once during the same day at a certain geo zone (within several hundred meters)"),l.a.createElement("td",null,"Face recognition (with score more than 80%), cameraId (position), timestamp"),l.a.createElement("td",null,"TOP321_FACE_RECO_EVENT"),l.a.createElement("td",null),l.a.createElement("td",null,"New topic")),l.a.createElement("tr",null,l.a.createElement("td",null,"Same person, same zone, in a short period"),l.a.createElement("td",null,'Rule that checks if a person (in the blacklist) has been seen more than once in a "short period" at a certain geo zone (within several hundred meters)'),l.a.createElement("td",null,"Face recognition (with score more than 80%), cameraId (position), timestamp"),l.a.createElement("td",null,"TOP321_FACE_RECO_EVENT"),l.a.createElement("td",null),l.a.createElement("td",null,"New topic")),l.a.createElement("tr",null,l.a.createElement("td",null,"Group of people, same zone, short period"),l.a.createElement("td",null,"Rule that checks if any member of \u201cblacklist\u201d has been detected at a certain geo zone during desired period of time. Depending of number of recognitions by security cameras as well as the time gap between them, a different message to Kafka has been sent after processing incoming data"),l.a.createElement("td",null,"Face recognition (with score more than 80%), cameraId (position), timestamp"),l.a.createElement("td",null,"TOP321_FACE_RECO_EVENT"),l.a.createElement("td",null),l.a.createElement("td",null,"New topic")),l.a.createElement("tr",null,l.a.createElement("td",null,"Group of people, same zone, short period"),l.a.createElement("td",null,"Rule that checks if a person (in the blacklist) has been recognised and within a certain geo zone (within several hundred meters) an abanEVENTd back-pack is found/detected"),l.a.createElement("td",null,"Face recognition (with score more than 80%), object detection, cameraId (position), timestamp"),l.a.createElement("td",null,"TOP321_FACE_RECO_EVENT, TOP301_OBJECT_DETECT_EVENT"),l.a.createElement("td",null),l.a.createElement("td",null,"New topic"))))})),O=Object(s.b)((function(e){return{orion:e.orion}}),{})((function(e){e.orion.Topics,e.getAllTopics;return l.a.createElement("div",{className:"wrapper"},l.a.createElement("h3",null,"Topics list"),l.a.createElement("div",null,l.a.createElement("ul",{className:"entityList"},l.a.createElement("li",null," ",l.a.createElement("p",null,l.a.createElement(i.b,{to:"/face321"},"TOP321_FACE_RECO_EVENT"))),l.a.createElement("li",null," ",l.a.createElement("p",null,l.a.createElement(i.b,{to:"/object301"},"TOP301_OBJECT_DETECT_EVENT"))))))})),_=Object(s.b)((function(e){return{orion:e.orion}}),{getCameraEntities:b})((function(e){var t=e.orion.entities,a=e.getCameraEntities;return Object(n.useEffect)((function(){a()}),[a]),console.log(t),l.a.createElement("div",{className:"wrapper"},l.a.createElement("h3",null,"Camera list"),l.a.createElement("div",null,t.map((function(e){return l.a.createElement("ul",{className:"entityList",key:e.id},l.a.createElement("li",null,l.a.createElement(i.b,{to:"/camera/".concat(e.id)},l.a.createElement("span",null,"Id"),": ",e.id),l.a.createElement("p",null,l.a.createElement("span",null,"Type"),": ",e.type),l.a.createElement("p",null,l.a.createElement("span",null,"Cam Latitude"),": ",e.camLatitude),l.a.createElement("p",null,l.a.createElement("span",null,"Cam Longitude"),": ",e.camLongitude)))}))))})),y=Object(s.b)((function(e){return{orion:e.orion}}),{get321EntitiesByDeviceId:function(e){return function(){var e=Object(E.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.get("?type=TOP321_FACE_RECO_EVENT&options=keyValues&limit=1000");case 3:a=e.sent,t({type:"GET_321_ENTITIES_BY_DEVICEID",payload:a.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"ORION_ERROR"}),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.orion.entities,a=e.get321EntitiesByDeviceId,r=e.match;Object(n.useEffect)((function(){a(r.params.id)}),[a,r.params.id]);var c=r.params.id.split(":")[3];return l.a.createElement("div",{className:"wrapper"},l.a.createElement("h3",null,"Camera ",c," detections"),l.a.createElement("div",null,t.filter((function(e){return e.deviceId===c})).map((function(e){return l.a.createElement("ul",{className:"entityList",key:e.id},l.a.createElement("li",null,l.a.createElement("p",null,l.a.createElement("span",null,"Id"),": ",e.id),l.a.createElement("p",null,l.a.createElement("span",null,"Type"),": ",e.type),l.a.createElement("p",null,l.a.createElement("span",null,"Time Instant"),": ",e.TimeInstant),l.a.createElement("p",null,l.a.createElement("span",null,"Cam Latitude"),": ",e.camLatitude),l.a.createElement("p",null,l.a.createElement("span",null,"Cam Longitude"),": ",e.camLongitude),l.a.createElement("p",null,l.a.createElement("span",null,"Class Names"),": ",e.class_names),l.a.createElement("p",null,l.a.createElement("span",null,"Description"),": ",e.description),l.a.createElement("p",null,l.a.createElement("span",null,"Device Id"),": ",e.deviceId),l.a.createElement("p",null,l.a.createElement("span",null,"Object Store Id"),": ",e.objectStoreId),l.a.createElement("p",null,l.a.createElement("span",null,"Scores"),": ",e.scores)))}))))})),I=a(32),N=a(87),C=a(89),R=a(86),w=a(88),j=a(9),k=(a(84),new j.Icon({iconUrl:"../../../videocamera.svg",iconSize:[25,25]})),S=Object(s.b)((function(e){return{orion:e.orion}}),{getCameraEntities:b})((function(e){var t=e.orion.entities,a=e.getCameraEntities;Object(n.useEffect)((function(){a()}),[a]);var r=l.a.useState(null),c=Object(I.a)(r,2),o=c[0],s=c[1];return l.a.createElement("div",{className:"wrapper"},l.a.createElement("h3",null,"Maps"),l.a.createElement(N.a,{center:[44.786568,20.448921],zoom:12},l.a.createElement(C.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),t.map((function(e){return l.a.createElement(R.a,{key:e.id,position:[e.camLatitude,e.camLongitude],onClick:function(){s(e)},icon:k})})),o&&l.a.createElement(w.a,{position:[o.camLatitude,o.camLongitude],onClose:function(){s(null)}},l.a.createElement("div",null,l.a.createElement(i.b,{to:"/camera/".concat(o.id)},"Camera id : ",o.id),l.a.createElement("p",null,"Camera latitude : ",o.camLatitude),l.a.createElement("p",null,"Camera longitude : ",o.camLongitude)))),")")})),L=Object(s.b)((function(e){return{orion:e.orion}}),{get301Entities:function(){return function(){var e=Object(E.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.get("?options=keyValues&limit=1000&type=TOP301_OBJECT_DETECT_EVENT");case 3:a=e.sent,t({type:"GET_301_ENTITIES",payload:a.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"ORION_ERROR"}),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.orion.entities,a=e.get301Entities;return Object(n.useEffect)((function(){a()}),[a]),console.log(t),l.a.createElement("div",{className:"wrapper"},l.a.createElement("h3",null,"Object Detect list"),l.a.createElement("div",null,t.map((function(e){return l.a.createElement("ul",{className:"entityList",key:e.id},l.a.createElement("li",null,l.a.createElement("p",null,l.a.createElement("span",null,"Id"),": ",e.id),l.a.createElement("p",null,l.a.createElement("span",null,"Type"),": ",e.type),l.a.createElement("p",null,l.a.createElement("span",null,"Time Instant"),": ",e.TimeInstant),l.a.createElement("p",null,l.a.createElement("span",null,"Cam Latitude"),": ",e.camLatitude),l.a.createElement("p",null,l.a.createElement("span",null,"Cam Longitude"),": ",e.camLongitude),l.a.createElement("p",null,l.a.createElement("span",null,"Class Names"),": ",e.class_names),l.a.createElement("p",null,l.a.createElement("span",null,"Description"),": ",e.description),l.a.createElement("p",null,l.a.createElement("span",null,"Device Id"),": ",e.deviceId),l.a.createElement("p",null,l.a.createElement("span",null,"Object Store Id"),": ",e.objectStoreId),l.a.createElement("p",null,l.a.createElement("span",null,"Scores"),": ",e.scores)))}))))})),x=Object(s.b)((function(e){return{orion:e.orion}}),{get321Entities:function(){return function(){var e=Object(E.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.get("?options=keyValues&limit=1000&type=TOP321_FACE_RECO_EVENT");case 3:a=e.sent,t({type:"GET_321_ENTITIES",payload:a.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"ORION_ERROR"}),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.orion.entities,a=e.get321Entities;return Object(n.useEffect)((function(){a()}),[a]),console.log(t),l.a.createElement("div",{className:"wrapper"},l.a.createElement("h3",null,"Face Reco list"),l.a.createElement("div",null,t.map((function(e){return l.a.createElement("ul",{className:"entityList",key:e.id},l.a.createElement("li",null,l.a.createElement("p",null,l.a.createElement("span",null,"Id"),": ",e.id),l.a.createElement("p",null,l.a.createElement("span",null,"Type"),": ",e.type),l.a.createElement("p",null,l.a.createElement("span",null,"Time Instant"),": ",e.TimeInstant),l.a.createElement("p",null,l.a.createElement("span",null,"Cam Latitude"),": ",e.camLatitude),l.a.createElement("p",null,l.a.createElement("span",null,"Cam Longitude"),": ",e.camLongitude),l.a.createElement("p",null,l.a.createElement("span",null,"Class Names"),": ",e.class_names),l.a.createElement("p",null,l.a.createElement("span",null,"Description"),": ",e.description),l.a.createElement("p",null,l.a.createElement("span",null,"Device Id"),": ",e.deviceId),l.a.createElement("p",null,l.a.createElement("span",null,"Object Store Id"),": ",e.objectStoreId),l.a.createElement("p",null,l.a.createElement("span",null,"Scores"),": ",e.scores)))}))))})),D=function(e){return l.a.createElement("section",{className:"container"},l.a.createElement(o.c,null,l.a.createElement(o.a,{exact:!0,path:"/processedentities",component:T}),l.a.createElement(o.a,{exact:!0,path:"/overview",component:g}),l.a.createElement(o.a,{exact:!0,path:"/topics",component:O}),l.a.createElement(o.a,{exact:!0,path:"/face321",component:x}),l.a.createElement(o.a,{exact:!0,path:"/object301",component:L}),l.a.createElement(o.a,{exact:!0,path:"/cameras",component:_}),l.a.createElement(o.a,{exact:!0,path:"/camera/:id",component:y}),l.a.createElement(o.a,{exact:!0,path:"/maps",component:S})))},F=(a(82),a(19)),P=a(51),V=a(52),A=a(53),G=[],z=a(18),B={entities:[],loading:!0,error:{}},M=Object(F.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_ALERT":return[].concat(Object(A.a)(e),[n]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==n}));default:return e}},orion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_PROCESSED_321_ENTITIES":case"GET_321_ENTITIES_BY_DEVICEID":case"GET_321_ENTITIES":case"GET_301_ENTITIES":case"GET_CAMERA_ENTITIES":return Object(z.a)(Object(z.a)({},e),{},{entities:n,loading:!1});default:return e}}}),J=[V.a],U=Object(F.createStore)(M,{},Object(P.composeWithDevTools)(F.applyMiddleware.apply(void 0,J))),W=a(25),Y=a(31),q=a(0),K=a(39),H=[{title:"Rules overview",path:"/overview",icon:l.a.createElement(Y.a,null),cName:"nav-text"},{title:"Rules history",path:"/processedentities",icon:l.a.createElement(K.a,null),cName:"nav-text"},{title:"Topics",path:"/topics",icon:l.a.createElement(W.c,null),cName:"nav-text"},{title:"Maps",path:"/maps",icon:l.a.createElement(K.b,null),cName:"nav-text"},{title:"Cameras",path:"/cameras",icon:l.a.createElement(W.b,null),cName:"nav-text"}],Q=Object(s.b)((function(e){return{}}))((function(){var e=Object(n.useState)(!1),t=Object(I.a)(e,2),a=t[0],r=t[1],c=function(){return r(!a)};return l.a.createElement(n.Fragment,null,l.a.createElement(q.b.Provider,{value:{color:"#fff"}},l.a.createElement("div",{className:"navbar"},l.a.createElement(i.b,{to:"#",className:"menu-bars"},l.a.createElement(W.a,{onClick:c})),l.a.createElement("h2",null,"Connexions")),l.a.createElement("nav",{className:a?"nav-menu active":"nav-menu"},l.a.createElement("ul",{className:"nav-menu-items",onClick:c},l.a.createElement("li",{className:"navbar-toggle"},l.a.createElement(i.b,{to:"#",className:"menu-bars"},l.a.createElement(Y.b,null))),H.map((function(e,t){return l.a.createElement("li",{key:t,className:e.cName},l.a.createElement(i.b,{to:e.path},e.icon,l.a.createElement("span",{className:"navbar-span"},e.title)))}))))))})),X=function(){return l.a.createElement(s.a,{store:U},l.a.createElement(i.a,null,l.a.createElement(n.Fragment,null,l.a.createElement(Q,null),l.a.createElement(o.c,null,l.a.createElement(o.a,{exact:!0,path:"/",component:g}),l.a.createElement(o.a,{component:D})))))};c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(X,null)),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.361781b6.chunk.js.map